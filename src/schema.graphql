type Query {
    login(username: String!, password: String!): LoginResponse
    filmList: [Film!]!
    filmByTitle(title: String!): [Film!]!
    filmsByCategory(category: String!): [Film!]!
    filmsByTitlePattern(pattern: String!): [Film!]!
    historyOfRentalsByCustomerId: [Rental_History!]!
    rentalStatsByCustomerId: RentalStats!
    getFilmDetails(title: String!): FilmDetails!
    getCategories: [String!]!
    getFilms(filter: GetFilmsFilterInput): GetFilmsOutput!
}

type FilmTable {
    title: String!
    year: Int
    rating: mpaa_rating
    category: String
    language: String
    cost: Float
}

type LoginResponse {
    token: String
    first_name: String
    last_name: String
}

enum mpaa_rating {
    G
    PG
    PG13
    R
    NC17
}

type Film {
    film_id: Int!
    title: String!
    description: String
    release_year: Int
    language: String
    rental_duration: Int!
    rental_rate: Float!
    length: Int
    replacement_cost: Float!
    rating: mpaa_rating
    last_update: String! #date
    special_features: [String!]!
    fulltext: String!
    #categories: [String!]!
    #actors: [String!]!
}

type Address {
    street: String
    city: String
    region: String
    country: String
}

type FilmDetails {
    film_id: Int
    title: String
    release_year: Int
    language: String
    length: Int
    rating: mpaa_rating
    description: String
    actors: String
    category: String
    rental_duration: Int
    rental_rate: Float
    disponibility: [Address]
}

type Rental_History {
    title: String
    rental_date: String
    return_date: String
    address: String
    amount: Float
}

type RentalStats {
    current_rentals: Int!
    total_amount: Float!
    most_frequent_category: String!
    total_rentals: Int!
}

# FILMS FILTERS

type FilmTest {
    film_id: Int!
    title: String!
    description: String
    release_year: Int
    language: String
    rental_duration: Int!
    rental_rate: Float!
    length: Int
    replacement_cost: Float!
    rating: String!
    category_id: Int!
    category: String!
}

input GetFilmsFilterInput {
    title: String
    categories: [Int!]
    page: Int
    filmPerPage: Int
    orderBy: String
    sort: Sort
}

type GetFilmsOutput {
    films: [FilmTest!]!
    total: Int!
}

enum Sort {
  asc
  desc
}